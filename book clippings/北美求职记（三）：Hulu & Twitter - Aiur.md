

#  北美求职记（三）：Hulu & Twitter

2012年12月27日 • [Permalink](http://blog.yxwang.me/2012/12/job-hunting-in-usa-3/)

#### 北美求职记系列文章

  * [北美求职记（一）：Microsoft](http://blog.yxwang.me/2012/12/job-hunting-in-usa-1/)
  * [北美求职记（二）：Google & Facebook](http://blog.yxwang.me/2012/12/job-hunting-in-usa-2/)
  * 北美求职记（三）：Hulu & Twitter

## Hulu

Hulu 是这几个公司里唯一一个我没有找人内推而拿到面试机会的，也是面试体验最好的一个公司。Hulu 和 Twitter、Zynga、Foursquare
等公司一样，用了 [jobvite](https://hire.jobvite.com/) 接受和追踪职位申请。因为是申请的第一家公司，我在申请 Hulu
时的 cover letter 写得很详细，针对职位需求上的每一条都写了我的相关工作经验，这也许是最后能拿到面试机会的原因吧。其他公司的 cover
letter 都写得很简单，短短两段就结束了。

Hulu 的第一轮电面和其他公司的有些不同。45 分钟里要做四个题。面试官提前十分钟发了一封邮件给我，上面有两段代码。第一段代码是一个检查两个字符串是否是
[anagram](http://en.wikipedia.org/wiki/Anagram)
的程序，写得很绕而且性能很差。面试官先问我这段代码的用途，然后问有什么方法优化，并要求我把代码写在 titanpad
上。接着他问了我第二段代码是做什么的。第二段代码也写得有点复杂，不过可以看出是一个检查有向图里面是否存在环的程序。

然后是设计题，要求设计一个 LRU Cache，只要说出接口、用到的数据结构和大致的算法就可以了，我想了个用一个 LinkedList 和一个
HashMap 的方案。

第四题还是代码题，写一个合并两个有序链表的程序。

面完后还有点时间，我们就聊了聊。面试官是在 Hulu 做支付的，主要用的语言是 Scala（Hulu
里面各个团队用的技术都很自由，可以选择自己喜欢的语言开发，Python Ruby C# Java 都有）。我当时正好在字节社做 iOS
上的应用内购验证，就问了他有没有处理黑卡坏账方面的经验。可惜 Hulu 在 iOS 上只有订阅方式的支付途径，没有 non-consumable
product 的相关经验。

面完后 HR 给我安排了第二轮电面。面试官来自法国人，是 FFmpeg
的维护者之一。面试官看我简历上有星际比赛的奖项，还当过校队的队长，就和我聊起了星际2的平衡性。接着说到最近的虫群之心
beta，他觉得改动没有当年母巢之战的有意思，因为前期的改动不大。

聊了二十分钟的星际2后才切入正题，coding 题很简单，就是在一个数组里找出两个数，使得他们和为给定的数。写完这个最基本的版本后还有些别的变化，比如如果所
有的数都是一定范围内的正整数，这时可以用一个数组统计每个数字的出现频率。

二面结束后等了三星期还没有消息，不知道是默拒了还是 HR 忘了。三星期后我又写了封信询问我的二面结果，HR 回信说欢迎我去他们公司 onsite
面，之前校招忙把我忘了。

Hulu 的总部在洛杉矶，Santa Monica 附近，离海滩只有几公里的路程。一进面试的会议室就看到白板上写着「Welcome Yuanxuan to
Hulu」，一下子对这个公司充满了好感。

Hulu 的 onsite 面试题是面过的几家公司里最难的，一共有四轮。前三轮由来自内容团队、API 团队和架构团队的工程师面试，最后一轮的面试是 CTO
亲自面的。题目也是涵盖了算法、设计和实际的编码，有一轮的问题从设计一个分布式系统开始，讨论了这个系统的身份验证、数据分片、原子性、容错等问题的设计，考察了很
多细节的地方，最后还让我写了 SQL，以及如何优化这些查询指令。不过我对 SQL 很不熟悉，每次用都要查手册，当时用了 ActiveRecord
的查询接口代替。

CTO 面完后 HR 进来问了我有没有其他公司的 offer，接着带我逛了一圈 Hulu 的工作场所。Hulu 总部只有 40
位左右的工程师，大家相互之间都很熟，气氛非常好，也比较自由。逛完后 CTO 带我出去买了杯咖啡，在回来的路上给我发了 offer。Hulu 的
package 和 Facebook 的在数额上差不多，但是因为公司性质的问题没法发股票给我，只能用相近的奖金代替。

回到公司后，CTO 问我对哪个团队比较有兴趣，我说如果我最后签了 Hulu 的话应该会想去做后端。HR
就安排了这个团队的工程师和我一起出去吃晚饭，还给了我两张 voucher 用于支付回去的出租车。当时因为觉得去 Hulu
可能性不大，觉得对方这么热情实在不好意思，可是还是推脱不掉，只得跟着他们去了附近一家餐厅。因为 Hulu
主要内容是美剧和电影的，饭桌上讨论的主题也是各种电视剧，还提到接下来 Hulu 可能会搬到附近另一个办公楼。

最后还是没有接受 Hulu 的 offer，虽然对他家印象非常好。一方面我更希望在湾区工作，另一方面小公司吸引人的一个点在于初期的股票，由于 Hulu
没法发股票所以这个优势也就没了。

## Twitter

Twitter 用的也是 [jobvite](https://hire.jobvite.com/) 的招聘系统，我麻烦了一位在里面工作的学姐帮忙内推。据说
Twitter 相比其他互联网公司 work-life balance 是比较好的，工作会相对轻松。而在给我安排面试时 HR
给出的可以约的最晚的时间点，也是几个公司里最早的，于是我只能很早起床等待面试官的电话。

第一面是一位负责移动端网页前端开发的工程师面的。他说我的简历上工作经历很丰富，就不让我做 coding
题了，让我谈谈做过的这些项目。谈完项目后又进入了聊天时间，我提到喜欢 Twitter 的一个原因在于他有很多好用的开源项目。比如我平时写一些小型的 web
应用都会用 bootstrap，省时省力；而我之前实习的时候做的一个分布式的内容下载系统，也参考了 murder 的实现。另外因为当时我在实现字节社
iPhone 和 iPad 的 web 界面时碰到了之前修复的 bug 后来再次出现，忘了测试的情况，就问了他 Twitter 是怎么做移动端 web
界面的测试的。结果面试官说他们也基本上是买一堆设备然后人工测的，倒是桌面端可以用 [Selenium](http://seleniumhq.org/)。

愉快的结束第一面后，就开始了略有点无语的二面。我的二面前三次都没面成，第一次被放鸽子了；第二次面试官是 iOS
团队的，听我介绍完自己想做后端时，说他面我不合适，会让 HR
再帮我重新安排一轮；第三次再次被放鸽子，面试官那天很忙，抽不出身。每次面试失败后都要再等一星期才能收到 HR 的消息，所以光二面就拖了一个月。

第四次二面终于面成了。我听面试官介绍应该是来自平台相关的团队，不过面试官接着问我是喜欢写代码还是喜欢倒腾环境的时候，我说喜欢写代码，结果面试官说他的团队主要
是做运维的，开发的工作量很小。估计是考虑到之前已经放过一次鸽子了，这次面试官还是继续面下去了。

虽然运维团队本身不是我喜欢的，但是面试官的问题相当对我胃口。一上来就是一连串的几个关于僵尸进程的问题：什么是僵尸进程？如何列出所有的僵尸进程？如何获得这些僵
尸进程的 PID？如何把它们终止？我用 ps grep awk xargs 配合管道把这几个问题用一行命令行解决了，他很满意。

第二问是统计一个 httpd 的访问日志中，访问量最大的前五个 IP。我用 Ruby 写了一个，六行代码就能搞定。

接着面试官了解 DNS 吗，如果浏览器没法上网一般怎么诊断？我的回答是先 dig 看 DNS 解析是否正确，然后用 ping 判断 IP 是否可以访问，再用
curl 看是不是浏览器设置的问题。最后还可以用类似 www.websitedown.info 的服务检查。

第四个问题是怎么把一个文件复制到多个机器上？我说可以先用 ssh-copy-id 把公钥拷过去，然后再用 scp
拷文件。面试官说这样机器多就麻烦了。我解释到可以用 expect 写脚本自动输入密码，还加了句当然也可以用 Twitter 的开源工具 murder
分布式部署。

第五问是文件系统中 soft link 和 hard link 的区别。我的解释是 soft link 是一种特殊的文件，它的内容是被指向的文件的路径，而
hard link 是直接指向 inode 的。所以 soft link 可以用于目录，但是 hard link 不可以。

文件系统中 inode 和 path 的区别。我回答是 inode 是文件系统的一个数据结构，指向某个磁盘上的文件；而 path 是由多个 struct
dentry 组成的，每个 dentry 描述了 inode 的父子关系。

最后一问是如何修改 DNS 服务器？我说可以修改 /etc/resolve.conf。

感觉 Twitter 的电面题会包含不少概念题，当然也有可能是运维团队的特点。几天后我收到 HR
的邮件，告诉我两位二面面试官都表示我对他们的团队不怎么感兴趣，而除了这两个团队外目前还没有其他团队可以给我安排面试。估计从此就进入等待列表了，没能去总部
onsite 面试，我在签掉 Facebook 后就联系 HR 把招聘进程终止了。

## 后记

最后签了 Facebook，等着下一步关于工作签证手续的通知。mm 也表示愿意和我一起去美国，她应该会先在那里读个硕士再找工作。

希望接下来的签证手续等事情都一切顺利了。

